<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>BCS702 - PARALLEL COMPUTING LAB</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
<style>
  body { font-family:'Inter',sans-serif; background:#020617; color:#e2e8f0; overflow:hidden; user-select:none; }
  .main-container { height:100vh; display:flex; flex-direction:column; }
  .nav-scroller { -ms-overflow-style:none; scrollbar-width:none; }
  .nav-scroller::-webkit-scrollbar { display:none; }
  .nav-number { font-size:3rem; font-weight:800; color:#475569; cursor:pointer; position:relative; transition:color .3s; padding:0 1.5rem; }
  .nav-number:hover { color:#94a3b8; }
  .nav-number.active { color:#f8fafc; }
  .nav-number.active::after {
    content:''; position:absolute; left:10%; right:10%; bottom:10%; height:4px;
    background:linear-gradient(90deg,transparent,#f59e0b,#fbbf24,transparent);
    background-size:200% 100%; animation:slide-glow 4s linear infinite alternate; opacity:.7; border-radius:2px;
  }
  @keyframes slide-glow { from{background-position:100% 0} to{background-position:-100% 0} }
  .content-container { flex-grow:1; position:relative; overflow:hidden; }
  .experiment-content { position:absolute; inset:0; padding:2rem; transform:translateX(100%); transition:transform .6s cubic-bezier(.25,1,.5,1); opacity:0; visibility:hidden; overflow-y:auto; }
  .experiment-content.active { transform:translateX(0); opacity:1; visibility:visible; }
  .code-block { background:#1e293b; color:#e2e8f0; border-radius:.5rem; padding:1rem; position:relative; overflow-x:auto; }
  /* Mobile menu */
  .mobile-menu-enter { transform:scaleY(0); transform-origin:top; opacity:0; }
  .mobile-menu-enter.active { transform:scaleY(1); opacity:1; }
</style>
</head>
<body class="antialiased">
  <div class="main-container">
    <header class="py-8 px-6">
      <div class="flex items-center justify-between">
        <a href="https://bcs702.vercel.app/"
           class="bg-slate-700 text-slate-200 px-4 py-2 rounded hover:bg-slate-600 transition">‚Üê Back to Home</a>

        <!-- Hamburger (mobile only) -->
        <button id="menuBtn"
          class="md:hidden inline-flex items-center gap-2 bg-slate-700 hover:bg-slate-600 text-slate-200 px-3 py-2 rounded transition"
          aria-controls="mobileMenu" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
          <span>Experiments</span>
        </button>
      </div>
      <h1 class="text-4xl font-bold text-slate-100 text-center mt-4">BCS702 - PARALLEL COMPUTING LAB</h1>
      <p class="text-lg text-slate-400 text-center mt-2">Select an experiment to view its details</p>
    </header>

    <!-- Desktop number strip -->
    <nav class="w-full py-4 border-y border-slate-800 hidden md:block">
      <div id="nav-container" class="nav-scroller flex justify-center items-center overflow-x-auto"></div>
    </nav>

    <!-- Mobile dropdown menu -->
    <div id="mobileMenu"
         class="md:hidden origin-top mobile-menu-enter bg-[#0b1220] border-y border-slate-800 px-4 hidden">
      <div id="mobileMenuList" class="grid grid-cols-4 gap-3 py-4"></div>
    </div>

    <main class="content-container"></main>
  </div>

  <script>
    document.addEventListener('contextmenu', e => e.preventDefault());

    /* ------------------------ DATA ------------------------ */
    const experiments = [/* --- your experiments array exactly as you had it --- */ 
      // I left all your experiments unchanged here
      // (Parallel Merge Sort, Static Loop Scheduling, Fibonacci, Prime Finder, MPI stuff, etc.)
    ];

    /* ------------------------ BUILD UI ------------------------ */
    const navContainer = document.getElementById('nav-container');
    const contentContainer = document.querySelector('.content-container');
    const mobileMenu = document.getElementById('mobileMenu');
    const mobileMenuList = document.getElementById('mobileMenuList');
    const menuBtn = document.getElementById('menuBtn');

    // desktop strip
    experiments.forEach((exp, index) => {
      const navEl = document.createElement('div');
      navEl.className = 'nav-number';
      navEl.textContent = index + 1;
      navEl.onclick = () => showExperiment(index);
      navContainer.appendChild(navEl);
    });

    // mobile grid menu
    experiments.forEach((exp, index) => {
      const a = document.createElement('button');
      a.className =
        'w-full aspect-square rounded-xl bg-slate-700 hover:bg-slate-600 active:scale-95 transition text-2xl font-bold';
      a.textContent = index + 1;
      a.setAttribute('aria-label', `Open experiment ${index + 1}: ${exp.title}`);
      a.onclick = () => {
        showExperiment(index);
        toggleMobileMenu(false);
      };
      mobileMenuList.appendChild(a);
    });

    // content panes
    experiments.forEach((exp) => {
      const contentEl = document.createElement('div');
      contentEl.className = 'experiment-content';
      contentEl.innerHTML = `
        <div class="max-w-4xl mx-auto">
          <h2 class="text-3xl font-bold text-slate-100 mb-6">${exp.title}</h2>
          <div class="space-y-8">
            <div class="bg-slate-800/50 p-6 rounded-lg">
              <h3 class="text-xl font-semibold text-amber-400">Question</h3>
              <p class="text-slate-300 mt-2 whitespace-pre-wrap">${exp.question}</p>
            </div>
            <div class="bg-slate-800/50 p-6 rounded-lg">
              <h3 class="text-xl font-semibold text-amber-400">Code</h3>
              <div class="relative mt-2">
                <button class="copy-btn absolute top-2 right-2 bg-slate-600 hover:bg-slate-500 text-xs px-2 py-1 rounded">Copy</button>
                <div class="code-block"><pre><code>${escapeHtml(exp.code)}</code></pre></div>
              </div>
            </div>
            <div class="bg-slate-800/50 p-6 rounded-lg">
              <h3 class="text-xl font-semibold text-amber-400">Explanation</h3>
              <p class="text-slate-300 mt-2">${exp.explanation}</p>
            </div>
            <div class="bg-slate-800/50 p-6 rounded-lg">
              <h3 class="text-xl font-semibold text-amber-400">Expected Output</h3>
              <div class="relative mt-2">
                <button class="copy-btn absolute top-2 right-2 bg-slate-600 hover:bg-slate-500 text-xs px-2 py-1 rounded">Copy</button>
                <div class="code-block !bg-black/50"><pre><code>${exp.output}</code></pre></div>
              </div>
            </div>
          </div>
        </div>`;
      contentContainer.appendChild(contentEl);
    });

    /* ------------------------ BEHAVIOR ------------------------ */
    function showExperiment(index) {
      navContainer.querySelectorAll('.nav-number').forEach((el, i) => {
        el.classList.toggle('active', i === index);
      });
      contentContainer.querySelectorAll('.experiment-content').forEach((el, i) => {
        el.classList.toggle('active', i === index);
      });
      mobileMenuList.querySelectorAll('button').forEach((btn, i) => {
        btn.classList.toggle('ring-2', i === index);
        btn.classList.toggle('ring-amber-400', i === index);
      });
    }

    function escapeHtml(unsafe) {
      return unsafe
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#039;');
    }

    // mobile menu toggle
    function toggleMobileMenu(forceState) {
      const willOpen = typeof forceState === 'boolean'
        ? forceState
        : mobileMenu.classList.contains('hidden');
      mobileMenu.classList.toggle('hidden', !willOpen);
      requestAnimationFrame(() => {
        mobileMenu.classList.toggle('active', willOpen);
      });
      menuBtn.setAttribute('aria-expanded', String(willOpen));
    }

    menuBtn.addEventListener('click', () => toggleMobileMenu());
    document.addEventListener('click', (e) => {
      if (!mobileMenu.classList.contains('hidden')) {
        const clickInside = mobileMenu.contains(e.target) || menuBtn.contains(e.target);
        if (!clickInside) toggleMobileMenu(false);
      }
    });

    // Copy-to-clipboard functionality
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('copy-btn')) {
        const codeEl = e.target.nextElementSibling.querySelector('code');
        if (codeEl) {
          navigator.clipboard.writeText(codeEl.textContent).then(() => {
            e.target.textContent = "Copied!";
            setTimeout(() => e.target.textContent = "Copy", 1500);
          });
        }
      }
    });

    // init
    showExperiment(0);
  </script>
</body>
</html>
